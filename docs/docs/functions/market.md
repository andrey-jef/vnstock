# Chuy·ªÉn ƒë·ªông th·ªã tr∆∞·ªùng

!!! abstract "SSI - Chuy·ªÉn ƒë·ªông th·ªã tr∆∞·ªùng"
    Th√¥ng tin chuy·ªÉn ƒë·ªông th·ªã tr∆∞·ªùng c·ªßa vnstock ƒë∆∞·ª£c cung c·∫•p t·ª´ ngu·ªìn SSI. B·∫°n c√≥ th·ªÉ truy xu·∫•t c√°c th√¥ng tin ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n giao di·ªán ng∆∞·ªùi d√πng c·ªßa SSI v√†o m√¥i tr∆∞·ªùng Python b·∫±ng c√°c h√†m d∆∞·ªõi ƒë√¢y. ƒêi·ªÉm kh√°c bi·ªát cƒÉn b·∫£n gi·ªØa vi·ªác l·∫•y d·ªØ li·ªáu th·ªã tr∆∞·ªùng b·∫±ng h√†m vnstock so v·ªõi t·∫£i file excel tr·ª±c ti·∫øp t·ª´ SSI l√† d·ªØ li·ªáu c·ªßa vnstock c√≥ ƒë·ªô chi ti·∫øt cao h∆°n, ƒë·ªìng th·ªùi c√≥ th·ªÉ ƒë∆∞·ª£c l·∫•y tr·ª±c ti·∫øp v√†o m√¥i tr∆∞·ªùng Python m√† kh√¥ng c·∫ßn ph·∫£i l∆∞u file excel v·ªÅ m√°y ƒë·ªÉ ph√¢n t√≠ch.

## B·∫£n ƒë·ªì nhi·ªát gi√°

![](../assets/images/ssi_heatmap.png)

S·ª≠ d·ª•ng h√†m:

```python
fr_trade_heatmap (symbol='HOSE', report_type='FrBuyVal')
```
Trong ƒë√≥:

- `symbol`: M√£ s√†n ch·ª©ng kho√°n ho·∫∑c m√£ Ch·ªâ s·ªë.

    - M√£ s√†n: `HOSE`, `HNX` ho·∫∑c `UPCOM`
    - M√£ Ch·ªâ s·ªë: `VN30`, `VN100`, ho·∫∑c b·∫•t k·ª≥ m√£ ch·ªâ s·ªë n√†o c√≥ trong h√¨nh b√™n tr√™n, ƒë∆∞·ª£c khoanh v√πng m√†u xanh.

- `report_type`: Lo·∫°i b·∫£n ƒë·ªì nhi·ªát gi√°.

    - `FrBuyVal`: Gi√° tr·ªã NƒêTNN mua r√≤ng
    - `FrSellVal`: Gi√° tr·ªã NƒêTNN b√°n r√≤ng
    - `FrBuyVol`: Kh·ªëi l∆∞·ª£ng NƒêTNN mua r√≤ng
    - `FrSellVol`: Kh·ªëi l∆∞·ª£ng NƒêTNN b√°n r√≤ng
    - `Volume`: Kh·ªëi l∆∞·ª£ng giao d·ªãch
    - `Value`: Gi√° tr·ªã giao d·ªãch
    - `MarketCap`: V·ªën h√≥a th·ªã tr∆∞·ªùng

K·∫øt qu·∫£:

```shell
>>> fr_trade_heatmap (symbol='VN30', report_type='FrBuyVal').T
                                                         0   ...                                 29
avgPrice                                           21583.35  ...                           24757.58
best1Bid                                            21550.0  ...                                NaN
best1BidVol                                        205900.0  ...                                NaN
best1Offer                                            21600  ...                              24600
best1OfferVol                                         39500  ...                             690100
best2Bid                                            21500.0  ...                                NaN
best2BidVol                                        620300.0  ...                                NaN
best2Offer                                            21650  ...                              24650
best2OfferVol                                         65700  ...                              86200
best3Bid                                            21450.0  ...                                NaN
best3BidVol                                        483100.0  ...                                NaN
best3Offer                                            21700  ...                              24700
best3OfferVol                                         29700  ...                              20500
caStatus                                                     ...
ceiling                                               23400  ...                              28300
corporateEvents                                          []  ...                                 []
coveredWarrantType                                           ...
exchange                                               hose  ...                               hose
exercisePrice                                             0  ...                                  0
exerciseRatio                                                ...
floor                                                 20400  ...                              24600
highest                                               21750  ...                              25900
issuerName                                                   ...
lastTradingDate                                              ...
lastVol                                               38999  ...                              54716
lowest                                                21450  ...                              24600
matchedPrice                                          21550  ...                              24600
maturityDate                                                 ...
nmTotalTradedValue                              84172900000  ...                       135463580000
openPrice                                             21750  ...                              25900
priorClosePrice                                       21900  ...                              26450
refPrice                                              21900  ...                              26450
securityName                          NGAN HANG TMCP A CHAU  ...                 CTCP VINCOM RETAIL
stockSymbol                                             ACB  ...                                VRE
stockType                                                 s  ...                                  s
totalShare                                            38999  ...                              54716
tradingStatus                                                ...
tradingUnit                                             100  ...                                100
underlyingSymbol                                             ...
companyNameEn              Asia Commercial Joint Stock Bank  ...  Vincom Retail Joint Stock Company
companyNameVi           Ng√¢n h√†ng Th∆∞∆°ng m·∫°i C·ªï ph·∫ßn √Å Ch√¢u  ...      C√¥ng ty C·ªï ph·∫ßn Vincom Retail
oddSession                                               LO  ...                                 LO
session                                                  LO  ...                                 LO
buyForeignQtty                                       120300  ...                             748207
remainForeignQtty                                         0  ...                          382909157
sellForeignQtty                                      120365  ...                             695725
matchedVolume                                            30  ...                                 50
priceChange                                            -350  ...                              -1850
priceChangePercent                                     -1.6  ...                              -6.99
lastMatchedPrice                                      21550  ...                              24600
lastMatchedVolume                                        30  ...                                 50
lastPriceChange                                        -350  ...                              -1850
lastPriceChangePercent                                 -1.6  ...                              -6.99
nmTotalTradedQty                                    3899900  ...                            5471600

[54 rows x 30 columns]
```

## Top c·ªï phi·∫øu

![](../assets/images/ssi_top_move.png)

S·ª≠ d·ª•ng h√†m:

```python
market_top_mover (report_name='Value', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```

Trong ƒë√≥ `report_name` l√† t√™n lo·∫°i b√°o c√°o c·∫ßn truy xu·∫•t, nh·∫≠n m·ªôt trong c√°c gi√° tr·ªã sau:

- report_name: T√™n c·ªßa lo·∫°i b√°o c√°o
    - `Breakout`: Top ƒë·ªôt ph√°
    - `Value`: Top gi√° tr·ªã
    - `Losers`: Top gi·∫£m gi√°
    - `Gainers`: Top tƒÉng gi√°
    - `Volume`: Top kh·ªëi l∆∞·ª£ng
    - `ForeignTrading`: Top NƒêTNN
    - `NewHigh`: Top v∆∞·ª£t ƒë·ªânh
    - `NewLow`: Top th·ªßng ƒë√°y
- `exchange`: Ch·ªçn s√†n giao d·ªãch ƒë·ªÉ truy xu·∫•t b√°o c√°o. `All` cho t·∫•t c·∫£, ho·∫∑c ri√™ng l·∫ª t·ª´ng s√†n `HOSE`, `HNX`, `UPCOM`
- `filter`: L·ªçc lo·∫°i b√°o c√°o, √°p d·ª•ng cho lo·∫°i b√°o c√°o Top NƒêTNN, h√†m s·∫Ω t·ª± ƒë·ªông √°p d·ª•ng v·ªõi lo·∫°i b√°o c√°o ph√π h·ª£p.
    - `NetBuyVol`: Top kh·ªëi l∆∞·ª£ng mua r√≤ng
    - `NetBuyVal`: Top gi√° tr·ªã mua r√≤ng
    - `NetSellVol`: Top kh·ªëi l∆∞·ª£ng b√°n r√≤ng
    - `NetSellVal`: Top gi√° tr·ªã b√°n r√≤ng
- `report_range`: Ch·ªçn khung th·ªùi gian b√°o c√°o `OneWeek` cho 5 ng√†y, `TwoWeek` cho 10 ng√†y, `OneMonth` cho 1 th√°ng, `ThreeMonths` cho 3 th√°ng, `SixMonths` cho 6 th√°ng, `OneYear` cho 1 nƒÉm
- `rate`: T·ªâ l·ªá Kh·ªëi l∆∞·ª£ng giao d·ªãch so v·ªõi Kh·ªëi l∆∞·ª£ng giao d·ªãch trung b√¨nh trong s·ªë phi√™n x√°c ƒë·ªãnh (v√≠ d·ª• 10 ng√†y, 1 th√°ng). Nh·∫≠n m·ªôt trong c√°c gi√° tr·ªã `OnePointTwo` cho 1.2, `OnePointFive` cho 1.5, `Two` cho 2, `Five` cho 5, `Ten` cho 10
- `lang`: ch·ªçn ng√¥n ng·ªØ c·ªßa d·ªØ li·ªáu tr·∫£ v·ªÅ l√† ti·∫øng Vi·ªát `vi`, ho·∫∑c Anh `en`

D∆∞·ªõi ƒë√¢y l√† c√°c m·∫´u l·ªánh ƒë·ªÉ t·∫£i t·ª´ng lo·∫°i b√°o c√°o n√™u tr√™n. Xem th√™m chi ti·∫øt Demo Notebook ƒë·ªÉ tham chi·∫øu k·∫øt qu·∫£ t·ª´ng h√†m c·ª• th·ªÉ.

```python
market_top_mover (report_name='Value', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```

```python
market_top_mover (report_name='Losers', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```


```python
market_top_mover (report_name='Gainers', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```


```python
market_top_mover (report_name='Volume', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```


```python
market_top_mover (report_name='ForeignTrading', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```

```python
market_top_mover (report_name='NewLow', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```

```python
market_top_mover (report_name='NewHigh', exchange='All', filter= 'NetBuyVol', report_range='ThreeMonths', rate='OnePointFive', lang='vi')
```

```python
market_top_mover (report_name='Breakout', exchange='All', filter= 'NetBuyVol', report_range='TwoWeeks', rate='OnePointFive', lang='vi')
```

## üîê Giao d·ªãch NƒêTNN

!!! tip "Gi·ªõi thi·ªáu" 
	D·ªØ li·ªáu ƒë∆∞·ª£c tr√≠ch xu·∫•t t·ª´ CafeF, kh√¥ng gi·ªõi h·∫°n th·ªùi gian tra c·ª©u. N·∫øu b·∫°n xu·∫•t d·ªØ li·ªáu tr·ª±c ti·∫øp t·ª´ CafeF ch·ªâ c√≥ th·ªÉ xu·∫•t t·ª´ng trang v·ªõi gi·ªõi h·∫°n 20 d√≤ng g·∫ßn nh·∫•t. 
	T√≠nh nƒÉng ch·ªâ d√†nh cho ng∆∞·ªùi d√πng t√†i tr·ª£ d·ª± √°n qua ch∆∞∆°ng tr√¨nh Insiders Program v√† s·ª≠ d·ª•ng g√≥i th∆∞ vi·ªán b·ªï sung `vnstock-data-pro`. Xem h∆∞·ªõng d·∫´n tham gia Insiders Program [t·∫°i ƒë√¢y](https://docs.vnstock.site/insiders-program/gioi-thieu-chuong-trinh-vnstock-insiders-pro)

B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√¢u l·ªánh sau:

```python
foreign_trade_data(symbol='VIC', start_date='2003-01-01', end_date='2023-12-22', limit=5000, page=1, lang='vi')
```

Trong ƒë√≥:

- `symbol`: M√£ ch·ª©ng kho√°n ho·∫∑c ch·ªâ s·ªë c·∫ßn tra c·ª©u. Kh√¥ng ph√¢n bi·ªát ch·ªØ hoa/th∆∞·ªùng.
- `start_date`: Ng√†y b·∫Øt ƒë·∫ßu tra c·ª©u, ƒë·ªãnh d·∫°ng `YYYY-MM-DD`
- `end_date`: Ng√†y k·∫øt th√∫c tra c·ª©u, ƒë·ªãnh d·∫°ng `YYYY-MM-DD`
- `limit`: S·ªë l∆∞·ª£ng b·∫£n ghi tr·∫£ v·ªÅ trong m·ªôt l·∫ßn truy v·∫•n, m·∫∑c ƒë·ªãnh l√† 500
- `page`: Trang k·∫øt qu·∫£ tr·∫£ v·ªÅ, m·∫∑c ƒë·ªãnh l√† 1. B·ªè qua tham s·ªë n√†y v√† ƒëi·ªÅu ch·ªânh `limit` ƒë·ªÉ truy v·∫•n t·∫•t c·∫£ c√°c b·∫£n ghi.
- `lang`: Ng√¥n ng·ªØ c·ªßa t√™n c·ªôt d·ªØ li·ªáu tr·∫£ v·ªÅ, nh·∫≠n gi√° tr·ªã `vi` ho·∫∑c `en` 


D∆∞·ªõi ƒë√¢y l√† k·∫øt qu·∫£ minh h·ªça:

```shell
>>> foreign_trade_data(symbol='VIC', start_date='2003-01-01', end_date='2023-12-22', limit=5000, page=1, lang='vi')

Total records: 4141. Returned records: 4141
            Ngay  KLGDRong      GTDGRong         ThayDoi   KLMua         GtMua   KLBan         GtBan  RoomConLai  DangSoHuu MaCK
0     22/12/2023   -396290 -1.700099e+10  43.15(-0.12 %)  231200  9.950400e+09  627490  2.695139e+10           0        0.0  VIC
1     21/12/2023   -129968 -5.564799e+09   43.2(-0.12 %)  224100  9.642125e+09  354068  1.520692e+10           0        0.0  VIC
2     20/12/2023    -59541 -2.503370e+09   43.25(0.12 %)  268088  1.158413e+10  327629  1.408750e+10           0        0.0  VIC
3     19/12/2023   -199294 -8.485858e+09    43.2(0.00 %)  195100  8.357565e+09  394394  1.684342e+10           0        0.0  VIC
4     18/12/2023   -145146 -6.305306e+09   43.2(-1.14 %)  263710  1.145286e+10  408856  1.775816e+10           0        0.0  VIC
...          ...       ...           ...             ...     ...           ...     ...           ...         ...        ...  ...
4136  07/03/2007         0  0.000000e+00       0(0.00 %)       0  0.000000e+00       0  0.000000e+00           0        0.0  VIC
4137  06/03/2007         0  0.000000e+00       0(0.00 %)       0  0.000000e+00       0  0.000000e+00           0        0.0  VIC
4138  05/03/2007         0  0.000000e+00       0(0.00 %)       0  0.000000e+00       0  0.000000e+00           0        0.0  VIC
4139  02/03/2007         0  0.000000e+00       0(0.00 %)       0  0.000000e+00       0  0.000000e+00           0        0.0  VIC
4140  01/03/2007         0  0.000000e+00       0(0.00 %)       0  0.000000e+00       0  0.000000e+00           0        0.0  VIC

[4141 rows x 11 columns]
```

## üîê Giao d·ªãch t·ª± doanh

> T√≠nh nƒÉng ch·ªâ d√†nh cho ng∆∞·ªùi d√πng T√†i tr·ª£ d·ª± √°n v√† s·ª≠ d·ª•ng g√≥i th∆∞ vi·ªán b·ªï sung `vnstock-data-pro`. Xem h∆∞·ªõng d·∫´n ng∆∞·ªùi d√πng tham gia t√†i tr·ª£ d·ª± √°n qua Insiders Program [t·∫°i ƒë√¢y](https://docs.vnstock.site/insiders-program/gioi-thieu-chuong-trinh-vnstock-insiders-program/)

!!! tip "Gi·ªõi thi·ªáu" 
	D·ªØ li·ªáu ƒë∆∞·ª£c tr√≠ch xu·∫•t t·ª´ CafeF, gi·ªõi h·∫°n th·ªùi gian tra c·ª©u trong v√≤ng 1 nƒÉm. N·∫øu b·∫°n xu·∫•t d·ªØ li·ªáu tr·ª±c ti·∫øp t·ª´ CafeF ch·ªâ c√≥ th·ªÉ xu·∫•t t·ª´ng trang v·ªõi gi·ªõi h·∫°n 20 d√≤ng g·∫ßn nh·∫•t. 
	T√≠nh nƒÉng ch·ªâ d√†nh cho ng∆∞·ªùi d√πng t√†i tr·ª£ d·ª± √°n qua ch∆∞∆°ng tr√¨nh Insiders Program v√† s·ª≠ d·ª•ng g√≥i th∆∞ vi·ªán b·ªï sung `vnstock-data-pro`. Xem h∆∞·ªõng d·∫´n tham gia Insiders Program [t·∫°i ƒë√¢y](https://docs.vnstock.site/insiders-program/gioi-thieu-chuong-trinh-vnstock-insiders-pro)

B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng c√¢u l·ªánh sau:

```python
proprietary_trade_data(symbol='VIC', start_date='2022-01-01', end_date='2023-12-22', limit=1000, page=1, lang='vi')
```

Trong ƒë√≥:

- `symbol`: M√£ ch·ª©ng kho√°n ho·∫∑c ch·ªâ s·ªë c·∫ßn tra c·ª©u. Kh√¥ng ph√¢n bi·ªát ch·ªØ hoa/th∆∞·ªùng.
- `start_date`: Ng√†y b·∫Øt ƒë·∫ßu tra c·ª©u, ƒë·ªãnh d·∫°ng `YYYY-MM-DD`
- `end_date`: Ng√†y k·∫øt th√∫c tra c·ª©u, ƒë·ªãnh d·∫°ng `YYYY-MM-DD`
- `limit`: S·ªë l∆∞·ª£ng b·∫£n ghi tr·∫£ v·ªÅ trong m·ªôt l·∫ßn truy v·∫•n, m·∫∑c ƒë·ªãnh l√† 500
- `page`: Trang k·∫øt qu·∫£ tr·∫£ v·ªÅ, m·∫∑c ƒë·ªãnh l√† 1. B·ªè qua tham s·ªë n√†y v√† ƒëi·ªÅu ch·ªânh `limit` ƒë·ªÉ truy v·∫•n t·∫•t c·∫£ c√°c b·∫£n ghi.
- `lang`: Ng√¥n ng·ªØ c·ªßa t√™n c·ªôt d·ªØ li·ªáu tr·∫£ v·ªÅ, nh·∫≠n gi√° tr·ªã `vi` ho·∫∑c `en` 

D∆∞·ªõi ƒë√¢y l√† k·∫øt qu·∫£ minh h·ªça:

```shell
>>> proprietary_trade_data(symbol='VIC', start_date='2022-01-01', end_date='2023-12-22', limit=1000, page=1, lang='vi')

Total records: 287. Returned records: 287
           Ngay  KLcpMua  KlcpBan        GtMua        GtBan MaCK
0    22/12/2023   112100   361000   4832690000  15497035000  VIC
1    21/12/2023   257900   402100  11096970000  17287675000  VIC
2    20/12/2023    56400   353200   2423970000  15201520000  VIC
3    19/12/2023   226300   357100   9690645000  15290020000  VIC
4    18/12/2023   160000   177800   6955905000   7715020000  VIC
..          ...      ...      ...          ...          ...  ...
282  07/11/2022   183600    27200   9778640000   1424160000  VIC
283  04/11/2022   153000   165700   8108240000   8866530000  VIC
284  03/11/2022    71700    15300   3907960000    836750000  VIC
285  02/11/2022    87700   180000   4817810000   9893270000  VIC
286  01/11/2022   198900    81800  10938740000   4461310000  VIC

[287 rows x 6 columns]
```